<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MetaProject Master | AMG Soluciones</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-deep: #0f172a;
            --card-bg: #1e293b;
            --accent: #3b82f6;
            --text-main: #f1f5f9;
        }
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background-color: var(--bg-deep); 
            color: var(--text-main);
            overflow-x: hidden;
        }
        .sidebar { background: #020617; border-right: 1px solid #1e293b; }
        .glass-card { 
            background: var(--card-bg); 
            border: 1px solid #334155; 
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
            border-radius: 1.5rem;
        }
        .nav-link { color: #94a3b8; transition: all 0.3s; }
        .nav-link.active { color: var(--accent); background: #1e293b; border-right: 4px solid var(--accent); }
        
        /* Estilo Roadmap (Gantt) */
        .gantt-row { display: grid; grid-template-columns: 200px 1fr; border-bottom: 1px solid #334155; }
        .gantt-bar { height: 12px; border-radius: 6px; position: relative; }
        
        /* Auto-expand Textarea */
        textarea.auto-expand { min-height: 80px; resize: none; overflow: hidden; }

        /* Login */
        #login-overlay {
            position: fixed; inset: 0; background: var(--bg-deep); z-index: 9999;
            display: flex; align-items: center; justify-content: center;
        }
    </style>
</head>
<body>

    <div id="login-overlay">
        <div class="glass-card p-12 w-full max-w-md text-center">
            <h1 class="text-4xl font-black text-blue-500 mb-8 tracking-tighter">MetaProject<span class="text-slate-500">.com</span></h1>
            <input type="text" placeholder="Usuario" class="w-full p-4 mb-4 bg-slate-900 border-none rounded-xl text-white outline-none focus:ring-2 focus:ring-blue-500">
            <input type="password" placeholder="••••••••" class="w-full p-4 mb-8 bg-slate-900 border-none rounded-xl text-white outline-none focus:ring-2 focus:ring-blue-500">
            <button onclick="access()" class="w-full bg-blue-600 p-4 rounded-xl font-black uppercase text-xs tracking-widest hover:bg-blue-500 shadow-lg shadow-blue-900/20">Entrar</button>
        </div>
    </div>

    <div class="flex">
        <aside class="sidebar w-72 h-screen fixed">
            <div class="p-10 mb-10"><h2 class="text-2xl font-black text-blue-500 tracking-tighter">MetaProject</h2></div>
            <nav class="space-y-2">
                <div onclick="tab('inicio')" id="l-inicio" class="nav-link active p-4 pl-10 cursor-pointer font-bold uppercase text-xs">Inicio</div>
                <div onclick="tab('roadmap')" id="l-roadmap" class="nav-link p-4 pl-10 cursor-pointer font-bold uppercase text-xs">Hoja de ruta</div>
                <div onclick="tab('kanban')" id="l-kanban" class="nav-link p-4 pl-10 cursor-pointer font-bold uppercase text-xs">Kanban</div>
                <div onclick="tab('req')" id="l-req" class="nav-link p-4 pl-10 cursor-pointer font-bold uppercase text-xs">Requerimientos</div>
                <div onclick="tab('cash')" id="l-cash" class="nav-link p-4 pl-10 cursor-pointer font-bold uppercase text-xs">Presupuesto</div>
                <div onclick="tab('admin')" id="l-admin" class="nav-link p-4 pl-10 cursor-pointer font-bold uppercase text-xs">Panel Admin</div>
            </nav>
            <div class="absolute bottom-10 left-10 text-[10px] text-slate-500 font-bold uppercase">AMG Soluciones<br>Análisis <span class="text-blue-500">Adrian Monzón</span></div>
        </aside>

        <main class="ml-72 p-10 w-full min-h-screen">
            
            <section id="v-inicio" class="view space-y-8">
                <div class="grid grid-cols-12 gap-6">
                    <div class="col-span-4 glass-card p-10 text-center">
                        <p class="text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4 italic underline decoration-blue-500">% de avance</p>
                        <div class="text-8xl font-black text-blue-500">85<span class="text-3xl text-slate-600">%</span></div>
                    </div>
                    <div class="col-span-8 glass-card p-10">
                        <h3 class="text-xs font-black uppercase text-slate-400 mb-6">Resumen de Actividades</h3>
                        <div class="grid grid-cols-4 gap-4">
                            <div class="bg-slate-900 p-4 rounded-2xl border border-slate-800"><p class="text-[9px] text-blue-400 uppercase font-bold mb-1">Completadas</p><p class="text-2xl font-black">100</p></div>
                            <div class="bg-slate-900 p-4 rounded-2xl border border-slate-800"><p class="text-[9px] text-amber-400 uppercase font-bold mb-1">En Proceso</p><p class="text-2xl font-black">50</p></div>
                            <div class="bg-slate-900 p-4 rounded-2xl border border-slate-800"><p class="text-[9px] text-rose-400 uppercase font-bold mb-1">Atrasadas</p><p class="text-2xl font-black">50</p></div>
                            <div class="bg-slate-900 p-4 rounded-2xl border border-slate-800"><p class="text-[9px] text-slate-400 uppercase font-bold mb-1">Por Iniciar</p><p class="text-2xl font-black">50</p></div>
                        </div>
                    </div>
                </div>
                <div class="glass-card p-10">
                    <div class="flex justify-between items-center mb-8 border-b border-slate-700 pb-6">
                        <h3 class="text-xs font-black uppercase text-slate-400 italic">Muro de publicaciones</h3>
                        <button onclick="openModal('modal-post')" class="bg-blue-600 px-6 py-2 rounded-full text-[10px] font-black uppercase">+ Publicar</button>
                    </div>
                    <div id="muro-container" class="space-y-10"></div>
                </div>
            </section>

            <section id="v-req" class="view hidden space-y-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-black italic uppercase tracking-tighter">Requerimientos</h3>
                    <button onclick="openModal('modal-req')" class="bg-blue-600 px-8 py-3 rounded-2xl text-[10px] font-black uppercase shadow-xl shadow-blue-900/20">+ Nuevo REQ</button>
                </div>
                <div id="req-container" class="space-y-4"></div>
            </section>

            <section id="v-kanban" class="view hidden h-[80vh]">
                <div class="grid grid-cols-3 gap-6 h-full">
                    <div class="flex flex-col"><p class="text-center font-black text-[10px] text-slate-500 uppercase mb-4">Pendiente</p><div id="kb-todo" class="flex-1 bg-slate-900/50 rounded-3xl p-4 space-y-4 border-2 border-dashed border-slate-800"></div></div>
                    <div class="flex flex-col"><p class="text-center font-black text-[10px] text-blue-500 uppercase mb-4">En Curso</p><div id="kb-doing" class="flex-1 bg-blue-900/10 rounded-3xl p-4 space-y-4 border-2 border-dashed border-blue-900/30"></div></div>
                    <div class="flex flex-col"><p class="text-center font-black text-[10px] text-emerald-500 uppercase mb-4">Terminado</p><div id="kb-done" class="flex-1 bg-emerald-900/10 rounded-3xl p-4 space-y-4 border-2 border-dashed border-emerald-900/30"></div></div>
                </div>
            </section>

            <section id="v-admin" class="view hidden text-center py-20">
                <i data-lucide="construction" class="mx-auto w-20 h-20 text-slate-700 mb-6"></i>
                <h2 class="text-4xl font-black text-slate-700 uppercase italic">Panel de Admin en Construcción</h2>
            </section>

        </main>
    </div>

    <div id="modal-req" class="fixed inset-0 bg-slate-950/80 backdrop-blur-sm z-[1000] hidden flex items-center justify-center p-6">
        <div class="glass-card w-full max-w-2xl p-10 max-h-[90vh] overflow-y-auto">
            <h2 class="text-xl font-black uppercase mb-8">Nuevo Requerimiento</h2>
            <div class="space-y-4">
                <input id="req-title" type="text" placeholder="TÍTULO" class="w-full bg-slate-900 p-4 rounded-xl border-none outline-none focus:ring-2 focus:ring-blue-500">
                <select id="req-prio" class="w-full bg-slate-900 p-4 rounded-xl border-none outline-none focus:ring-2 focus:ring-blue-500 text-slate-400">
                    <option value="Alta">Prioridad: Alta</option>
                    <option value="Media">Prioridad: Media</option>
                    <option value="Baja">Prioridad: Baja</option>
                </select>
                <textarea id="req-obj" placeholder="OBJETIVO DEL REQUERIMIENTO" class="auto-expand w-full bg-slate-900 p-4 rounded-xl border-none outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                <textarea id="req-act" placeholder="SITUACIÓN ACTUAL" class="auto-expand w-full bg-slate-900 p-4 rounded-xl border-none outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                <textarea id="req-exp" placeholder="SITUACIÓN ESPERADA" class="auto-expand w-full bg-slate-900 p-4 rounded-xl border-none outline-none focus:ring-2 focus:ring-blue-500"></textarea>
            </div>
            <div class="flex gap-4 mt-8">
                <button onclick="saveReq()" class="flex-1 bg-blue-600 py-4 rounded-xl font-black uppercase text-xs">Guardar</button>
                <button onclick="closeModal('modal-req')" class="px-8 py-4 bg-slate-800 rounded-xl font-black uppercase text-xs">Cancelar</button>
            </div>
        </div>
    </div>

    <script>
        // MOTOR DE DATOS
        let state = {
            posts: [{ id: 1, user: 'Adrian Monzón', date: '18/02/2026', time: '12:19 p.m.', text: '¡HOLA, EQUIPO! HEMOS CREADO ESTA HERRAMIENTA...', likes: 5, comments: [] }],
            reqs: [{ id: 1, title: 'MAQUETADO DE LA APP', user: 'Adrian Monzón', date: '18/02/2026', prio: 'Alta', obj: 'TRAZABILIDAD TOTAL.', act: 'EXCEL MANUAL.', exp: 'DASHBOARD 100%.' }],
            kanban: [{ id: 101, text: 'MAQUETADO DE LA APP', col: 'todo' }]
        };

        function access() { document.getElementById('login-overlay').style.display = 'none'; render(); }
        function tab(name) { 
            document.querySelectorAll('.view').forEach(v => v.classList.add('hidden'));
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            document.getElementById('v-' + name).classList.remove('hidden');
            document.getElementById('l-' + name).classList.add('active');
        }
        function openModal(id) { document.getElementById(id).classList.remove('hidden'); document.getElementById(id).classList.add('flex'); }
        function closeModal(id) { document.getElementById(id).classList.remove('flex'); document.getElementById(id).classList.add('hidden'); }

        // AUTO-EXPAND TEXTAREA
        document.querySelectorAll('textarea.auto-expand').forEach(el => {
            el.addEventListener('input', () => { el.style.height = 'auto'; el.style.height = el.scrollHeight + 'px'; });
        });

        // KANBAN LOGIC
        function initKanban() {
            ['todo', 'doing', 'done'].forEach(col => {
                new Sortable(document.getElementById('kb-' + col), { group: 'kanban', animation: 150 });
            });
        }

        // RENDER REQS (ACORDEÓN)
        function toggleReq(id) {
            const el = document.getElementById(`req-detail-${id}`);
            el.classList.toggle('hidden');
        }

        function saveReq() {
            const newR = {
                id: Date.now(),
                title: document.getElementById('req-title').value.toUpperCase(),
                user: 'Adrian Monzón',
                date: '18/02/2026',
                prio: document.getElementById('req-prio').value,
                obj: document.getElementById('req-obj').value,
                act: document.getElementById('req-act').value,
                exp: document.getElementById('req-exp').value
            };
            state.reqs.unshift(newR);
            closeModal('modal-req');
            render();
        }

        function render() {
            lucide.createIcons();
            initKanban();

            // Render Reqs
            document.getElementById('req-container').innerHTML = state.reqs.map(r => `
                <div class="glass-card border-l-[10px] ${r.prio=='Alta'?'border-rose-500':r.prio=='Media'?'border-amber-500':'border-blue-500'} overflow-hidden">
                    <div onclick="toggleReq(${r.id})" class="p-6 flex justify-between items-center cursor-pointer hover:bg-slate-800/50">
                        <div class="flex gap-4 items-center">
                            <div class="w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center font-black text-xs">AM</div>
                            <div>
                                <p class="text-[10px] font-black text-blue-500 uppercase tracking-widest">${r.prio} • REQUERIMIENTO</p>
                                <h4 class="font-black text-sm uppercase">${r.title}</h4>
                            </div>
                        </div>
                        <div class="flex gap-3 text-slate-500">
                            <i data-lucide="edit-3" class="w-4 h-4 cursor-pointer hover:text-white"></i>
                            <i data-lucide="trash-2" class="w-4 h-4 cursor-pointer hover:text-rose-500"></i>
                            <i data-lucide="download" class="w-4 h-4 cursor-pointer hover:text-blue-500"></i>
                        </div>
                    </div>
                    <div id="req-detail-${r.id}" class="hidden p-10 pt-0 grid grid-cols-3 gap-6 animate-fadeIn">
                        <div class="bg-slate-900/50 p-6 rounded-2xl"><p class="text-[9px] font-black text-slate-500 mb-3 uppercase">Objetivo</p><p class="text-xs text-slate-300">${r.obj}</p></div>
                        <div class="bg-slate-900/50 p-6 rounded-2xl"><p class="text-[9px] font-black text-slate-500 mb-3 uppercase">Situación Actual</p><p class="text-xs text-slate-300">${r.act}</p></div>
                        <div class="bg-slate-900/50 p-6 rounded-2xl"><p class="text-[9px] font-black text-slate-500 mb-3 uppercase">Situación Esperada</p><p class="text-xs text-slate-300">${r.exp}</p></div>
                    </div>
                </div>
            `).join('');
            
            // Render Muro
            document.getElementById('muro-container').innerHTML = state.posts.map(p => `
                <div class="flex gap-6">
                    <div class="w-14 h-14 bg-slate-800 rounded-full flex-shrink-0 flex items-center justify-center font-black border border-slate-700">AM</div>
                    <div class="flex-1">
                        <p class="text-xs font-black uppercase">${p.user} <span class="text-[10px] text-slate-500 ml-2 font-bold">${p.date} • ${p.time}</span></p>
                        <p class="text-sm text-slate-400 mt-2 leading-relaxed">${p.text}</p>
                        <div class="flex gap-6 mt-4 text-[10px] font-black text-slate-500 uppercase">
                            <span class="cursor-pointer hover:text-blue-500"><i data-lucide="heart" class="inline w-3 h-3 mr-1"></i> Reaccionar</span>
                            <span class="cursor-pointer hover:text-blue-500"><i data-lucide="message-square" class="inline w-3 h-3 mr-1"></i> Comentar</span>
                        </div>
                    </div>
                </div>
            `).join('');
            
            lucide.createIcons();
        }
    </script>
</body>
</html>
